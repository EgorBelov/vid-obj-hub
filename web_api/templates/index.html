<!-- index.html -->
{% extends "layout.html" %}
{% block content %}

<!-- Уведомление после отправки -->
<div x-data="{ show: false }" x-show="show" x-init="show = true; setTimeout(() => show = false, 3000)"
     x-transition
     class="mb-6 p-4 bg-green-100 text-green-800 rounded shadow">
  ✅ Видео успешно отправлено на обработку!
</div>

<div class="grid md:grid-cols-2 gap-8">
  <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition" x-data="{ loading: false }">
    <h2 class="text-xl font-semibold text-gray-800 mb-4"><i class="bi bi-upload"></i> Загрузить файл</h2>
    <form action="/upload/file" method="post" enctype="multipart/form-data" class="space-y-4"
          @submit="loading = true">
      <input type="file" name="file" accept="video/*" required class="w-full px-4 py-2 border rounded cursor-pointer" />
      <button type="submit" class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded flex justify-center items-center gap-2">
        <span>Загрузить</span>
        <svg x-show="loading" class="animate-spin w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-25" />
          <path d="M4 12a8 8 0 018-8" stroke-width="4" class="opacity-75" />
        </svg>
      </button>
    </form>
  </div>

  <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition" x-data="{ loading: false }">
    <h2 class="text-xl font-semibold text-gray-800 mb-4"><i class="bi bi-link-45deg"></i> Ссылка на видео</h2>
    <form action="/upload/url" method="post" class="space-y-4" @submit="loading = true">
      <input type="text" name="url" placeholder="https://vk.com/video..." required class="w-full px-4 py-2 border rounded" />
      <button class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded flex justify-center items-center gap-2">
        <span>Отправить</span>
        <svg x-show="loading" class="animate-spin w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" stroke-width="4" class="opacity-25" />
          <path d="M4 12a8 8 0 018-8" stroke-width="4" class="opacity-75" />
        </svg>
      </button>
    </form>
  </div>
</div>
{% endblock %}


